<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="view_res_partner_business_relationship_search" model="ir.ui.view">
      <field name="name">business_relationships.res.partner.select</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_res_partner_filter"/>
      <field name="arch" type="xml">
        <field name="name" position="after">
          <field name="business_relationship_id" string="Business Relationship"/>
        </field>
        <filter name="group_country" position="after">
          <filter
            name="group_by_business_relationship_id"
            string="Business Relationship"
            context="{'group_by': 'business_relationship_id'}"
            help="Business Relationship, e.g. B2B, B2C"/>
        </filter>
      </field>
    </record>

    <record id="view_partner_business_relationship_form" model="ir.ui.view">
      <field name="name">business_relationships.res.partner</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">

        <field name="type" position="before">
          <label for="business_relationship_id"/>
          <div>
            <field name="same_as_parent_business_relationship_id" invisible="1"/>
            <field
              name="business_relationship_id"
              style="width: 50%;"
              attrs="{'readonly': [('same_as_parent_business_relationship_id','=',True)]}"/>
            <field
              name="default_business_relationship_id"
              readonly="1"
              nolabel="1"
              style="width: 50%; padding-left: 10px; color: #ccc;"
              attrs="{'invisible': [('business_relationship_id','!=', False)]}"/>
          </div>
          <label for="open_commercial_entity" string=""/>
          <div
            name="parent_business_relationship"
            attrs="{'invisible': [('parent_id','=',False)]}"
            class="oe_edit_only">
            <p>is managed on
              <button
                name="open_commercial_entity"
                type="object"
                string="the parent contact"
                class="oe_link"/></p>
          </div>
        </field>
      </field>
    </record>

  </data>
</odoo>
